<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<component-set>
  <components>

    <component>
      <role>org.apache.maven.profiles.MavenProfilesBuilder</role>
      <implementation>org.apache.maven.profiles.DefaultMavenProfilesBuilder</implementation>
    </component>  
  
    <component>
      <role>org.apache.maven.profiles.build.ProfileAdvisor</role>
      <role-hint>default</role-hint>
      <implementation>org.apache.maven.profiles.build.DefaultProfileAdvisor</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.MavenTools</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.profiles.MavenProfilesBuilder</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.profiles.injection.ProfileInjector</role>
        </requirement>
      </requirements>
    </component>
    
<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.project.MavenProjectHelper</role>
      <implementation>org.apache.maven.project.DefaultMavenProjectHelper</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.artifact.handler.manager.ArtifactHandlerManager</role>
        </requirement>
      </requirements>
    </component>

<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.injection.ProfileInjector</role>
      <implementation>org.apache.maven.profiles.injection.DefaultProfileInjector</implementation>
    </component>
<!--
     |
     |
     |
     -->
    <component>
        <role>org.apache.maven.project.builder.ProjectBuilder</role>
        <role-hint>default</role-hint>
        <implementation>org.apache.maven.project.builder.impl.DefaultProjectBuilder</implementation>
        <requirements>
            <requirement>
                <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
            </requirement>
            <requirement>
              <role>org.apache.maven.MavenTools</role>
            </requirement>
        </requirements>
    </component>
    <component>
      <role>org.apache.maven.project.MavenProjectBuilder</role>
      <role-hint>default</role-hint>
      <implementation>org.apache.maven.project.DefaultMavenProjectBuilder</implementation>
      <requirements>
        <requirement>
             <role>org.apache.maven.project.RepositoryHelper</role>
        </requirement>             
        <requirement>
             <role>org.apache.maven.project.builder.ProjectBuilder</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.metadata.ArtifactMetadataSource</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.profiles.build.ProfileAdvisor</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.profiles.MavenProfilesBuilder</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.project.validation.ModelValidator</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.resolver.ArtifactResolver</role>
          <role-hint>default</role-hint>
        </requirement>
        <requirement>
          <role>org.apache.maven.MavenTools</role>
        </requirement>
      </requirements>
    </component>

<!--Eliminate this component after Mercury Integration-->      
    <component>
      <role>org.apache.maven.project.RepositoryHelper</role>
      <implementation>org.apache.maven.project.DefaultRepositoryHelper</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.profiles.build.ProfileAdvisor</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.resolver.ArtifactResolver</role>
          <role-hint>default</role-hint>
        </requirement>
        <requirement>
          <role>org.apache.maven.MavenTools</role>
        </requirement>
      </requirements>
    </component>
<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>always-on</role-hint>
      <implementation>org.apache.maven.profiles.activation.AlwaysOnProfileActivator</implementation>
    </component>
<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>jdk-prefix</role-hint>
      <implementation>org.apache.maven.profiles.activation.JdkPrefixProfileActivator</implementation>
    </component>
<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>system-property</role-hint>
      <implementation>org.apache.maven.profiles.activation.SystemPropertyProfileActivator</implementation>
    </component>
    <!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>os</role-hint>
      <implementation>org.apache.maven.profiles.activation.OperatingSystemProfileActivator</implementation>
    </component>
    <!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>file</role-hint>
      <implementation>org.apache.maven.profiles.activation.FileProfileActivator</implementation>
    </component>
    <!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.profiles.activation.ProfileActivator</role>
      <role-hint>custom</role-hint>
      <implementation>org.apache.maven.profiles.activation.CustomActivator</implementation>
    </component>
<!--
     |
     |
     |
     -->
    <component>
      <role>org.apache.maven.project.validation.ModelValidator</role>
      <implementation>org.apache.maven.project.validation.DefaultModelValidator</implementation>
    </component>

<!-- ********************* FIXME *******************************************
| I realize this is duplicated but allows the project builder to work by itself
-->

    <component>
      <role>org.apache.maven.artifact.metadata.ArtifactMetadataSource</role>
      <role-hint>maven</role-hint>
      <implementation>org.apache.maven.project.artifact.MavenMetadataSource</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.apache.maven.artifact.metadata.ArtifactMetadataSource</role>
      <role-hint>maven-strict</role-hint>
      <implementation>org.apache.maven.project.artifact.MavenMetadataSource</implementation>
      <configuration>
        <strictlyEnforceThePresenceOfAValidMavenPOM>true</strictlyEnforceThePresenceOfAValidMavenPOM>
      </configuration>
      <requirements>
        <requirement>
          <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.apache.maven.artifact.metadata.ArtifactMetadataSource</role>
      <role-hint>default</role-hint>
      <implementation>org.apache.maven.project.artifact.MavenMetadataSource</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.artifact.factory.ArtifactFactory</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.apache.maven.MavenTools</role>
      <implementation>org.apache.maven.DefaultMavenTools</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.artifact.repository.ArtifactRepositoryFactory</role>
        </requirement>
      </requirements>
    </component>
  </components>
</component-set>
